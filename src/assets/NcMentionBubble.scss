$bubble-height: 20px;
$bubble-max-width: 150px;
$bubble-padding: 2px;
$bubble-avatar-size: $bubble-height - 2 * $bubble-padding;

@mixin mention-bubble {
	.mention-bubble--primary .mention-bubble__content {
		color: var(--color-primary-element-text);
		background-color: var(--color-primary-element);
	}

	.mention-bubble__wrapper {
		max-width: $bubble-max-width;
		// Align with text
		height: $bubble-height - $bubble-padding;
		vertical-align: text-bottom;
		display: inline-flex;
		align-items: center;
	}

	// Should be in both places
	.mention-bubble__content {
		display: inline-flex;
		overflow: hidden;
		align-items: center;
		max-width: 100%;
		height: $bubble-height;
		-webkit-user-select: none;
		user-select: none;
		padding-right: $bubble-padding * 3;
		padding-left: $bubble-padding;
		border-radius: math.div($bubble-height, 2);
		background-color: var(--color-background-dark);
	}

	.mention-bubble__icon {
		position: relative;
		width: $bubble-avatar-size;
		height: $bubble-avatar-size;
		border-radius: math.div($bubble-avatar-size, 2);
		background-color: var(--color-background-darker);
		background-repeat: no-repeat;
		background-position: center;
		background-size: $bubble-avatar-size - 2 * $bubble-padding;

		&--with-avatar {
			color: inherit;
			background-size: cover;
		}
	}

	.mention-bubble__title {
		overflow: hidden;
		margin-left: $bubble-padding;
		white-space: nowrap;
		text-overflow: ellipsis;
		// Put title in ::before so it is not selectable
		&::before {
			content: attr(title);
		}
	}

	// Hide the mention id so it is selectable
	.mention-bubble__select {
		position: absolute;
		z-index: -1;
		left: -1000px;
	}
}
